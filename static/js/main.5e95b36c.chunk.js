(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(4),l=n.n(u),c=n(1),o=function(){return fetch("".concat("https://swapi.co/api/planets/")).then((function(e){return e.json().then((function(t){return e&&Promise.resolve(t)}))}))},i=Object(a.createContext)(),m=function(e){var t=e.children,n=Object(a.useState)({planets:[],sucess:!1}),u=Object(c.a)(n,2),l=u[0],m=u[1],s=Object(a.useState)(""),d=Object(c.a)(s,2),f=d[0],p=d[1],E=Object(a.useState)([]),v=Object(c.a)(E,2),b=v[0],h=v[1],g={data:l,setData:m,filterName:f,setFilterName:p,filters:b,setFilters:h,fetchPlanets:function(){l.sucess||o().then((function(e){m({planets:e.results,sucess:!0})}))}};return r.a.createElement(i.Provider,{value:g},t)},s=function(e,t){return 0!==t.length?function(e,t){return t.reduce((function(t,n,a){var r=0===a?e:t;return{"Maior que":r.filter((function(e){return Number(e[n.column])>n.value})),"Menor que":r.filter((function(e){return Number(e[n.column])<n.value})),"Igual a":r.filter((function(e){return e[n.column]===n.value}))}[n.comparison]}),[])}(e,t):e},d=function(){var e=Object(a.useContext)(i),t=e.data,n=t.planets,u=t.sucess,l=e.filters,c=e.filterName;if(!u)return r.a.createElement("div",null,"CARREGANDO");var o=function(e,t,n){var a=function(e,t){return t?e.filter((function(e){return e.name.includes(t)})):e}(e,n);return s(a,t)}(n,l,c);return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,o&&r.a.createElement("tr",null,["Nome","Popula\xe7\xe3o","Dura\xe7\xe3o Orbita","Diametro","Clima","Gravidade","Solo","Dura\xe7\xe3o Rota\xe7\xe3o","Superficie de \xc1gua","Link Filmes","Criado","Editado","Link"].map((function(e){return r.a.createElement("th",{key:e},e)}))),o&&o.map((function(e){return function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,"".concat(e.name)),r.a.createElement("td",null,"".concat(e.population)),r.a.createElement("td",null,"".concat(e.orbital_period," Hours")),r.a.createElement("td",null,"".concat(e.diameter," KM")),r.a.createElement("td",null,"".concat(e.climate)),r.a.createElement("td",null,"".concat(e.gravity)),r.a.createElement("td",null,"".concat(e.terrain)),r.a.createElement("td",null,"".concat(e.rotation_period," Hours")),r.a.createElement("td",null,"".concat(e.surface_water," %")),r.a.createElement("td",null,e.films.map((function(e){return r.a.createElement("div",{key:e},e)}))),r.a.createElement("td",null,"".concat(e.created)),r.a.createElement("td",null,"".concat(e.edited," %")),r.a.createElement("td",null,"".concat(e.url," %")))}(e)})))),0===o.length&&r.a.createElement("h3",null,"Planeta n\xe3o encontrado"))},f=n(2),p=function(e){var t=e.comparison,n=e.value,u=e.changeValue,l=e.changeComparison,c=e.changeColumn,o=e.sendValues,m=Object(a.useContext)(i).filters;if(5===m.length)return r.a.createElement("div",null,r.a.createElement("h2",null,"Todos os Filtros j\xe1 foram selecionados"));var s=m.map((function(e){return e.column}));return r.a.createElement("div",null,r.a.createElement("div",null,function(e,t){return r.a.createElement("select",{"data-testid":"select",onChange:function(t){return e(t.target.value)}},r.a.createElement("option",{value:""}),t.includes("population")||r.a.createElement("option",{value:"population"},"Popula\xe7\xe3o"),t.includes("orbital_period")||r.a.createElement("option",{value:"orbital_period"},"Dura\xe7\xe3o da Orbita"),t.includes("diameter")||r.a.createElement("option",{value:"diameter"},"Diametro"),t.includes("rotation_period")||r.a.createElement("option",{value:"rotation_period"},"Dura\xe7\xe3o da Rota\xe7\xe3o"),t.includes("surface_water")||r.a.createElement("option",{value:"surface_water"},"Superficie de \xc1gua"))}(c,s),function(e,t){return r.a.createElement("div",null,r.a.createElement("input",{"data-testid":"radio-comparison-maior",type:"radio",checked:"Maior que"===e,name:"comparison",value:"Maior que",onClick:function(e){return t(e.target.value)}}),"Maior que",r.a.createElement("input",{"data-testid":"radio-comparison-menor",type:"radio",checked:"Menor que"===e,name:"comparison",value:"Menor que",onClick:function(e){return t(e.target.value)}}),"Menor que",r.a.createElement("input",{"data-testid":"radio-comparison-igual",type:"radio",checked:"Igual a"===e,name:"comparison",value:"Igual a",onClick:function(e){return t(e.target.value)}}),"Igual a")}(t,l),function(e,t){return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"inputNumber"},"N\xfameros:",r.a.createElement("input",{"data-testid":"input-value",id:"inputNumber",value:e,type:"number",onChange:function(e){return t(e.target.value)}})))}(n,u),function(e){return r.a.createElement("input",{"data-testid":"input-button-add",id:"inputNumber",type:"button",value:"Adicionar Filtro",onClick:function(){return e()}})}(o)))},E=function(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],u=t[1],l=Object(a.useState)(""),o=Object(c.a)(l,2),m=o[0],s=o[1],d=Object(a.useState)("0"),E=Object(c.a)(d,2),v=E[0],b=E[1],h=Object(a.useContext)(i),g=h.setFilters,O=h.filters;return r.a.createElement("div",null,r.a.createElement(p,{changeValue:function(e){return b(e)},changeComparison:function(e){return s(e)},changeColumn:function(e){return u(e)},column:n,comparison:m,value:v,sendValues:function(){return function(){var e=O.map((function(e){return e.column}));if(""!==n&&""!==m&&!e.includes(n)){var t={column:n,comparison:m,value:v};g([].concat(Object(f.a)(O),[t]))}}()}}))},v=function(){var e=Object(a.useContext)(i),t=e.filterName,n=e.setFilterName;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"filter-name"},"Filtro name:"),r.a.createElement("input",{id:"filter-name",type:"text",value:t,onChange:function(e){return n(e.target.value)}}))},b=function(e,t,n){n(Object(f.a)(e.filter((function(e,n){return n!==t}))))},h=function(){var e=Object(a.useContext)(i),t=e.filters,n=e.setFilters;return r.a.createElement("div",null,t&&t.map((function(e,a){return function(e,t,n,a,u){var l=t.column,c=t.comparison,o=t.value;return r.a.createElement("div",{key:l},r.a.createElement("p",{"data-testid":"data-".concat(l)},"".concat({population:"Popula\xe7\xe3o",orbital_period:"Periodo de Orbita",diameter:"Diametro",rotation_period:"Periodo de Rota\xe7\xe3o",surface_water:"Superficie de \xc1gua"}[l],"| ").concat(c," | ").concat(o," ")),r.a.createElement("input",{"data-testid":"remove-filter",type:"button",value:"X",onClick:function(){return u(e,n,a)}}))}(t,e,a,n,b)})))},g=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Nome:"),r.a.createElement(v,null),r.a.createElement("h4",null,"Filtros"),r.a.createElement(h,null),r.a.createElement(E,null))},O=function(){var e=Object(a.useContext)(i).fetchPlanets;return Object(a.useEffect)((function(){e()})),r.a.createElement("h1",null,"PLANETAS DO STAR WARS SHOW")};var j=function(){return r.a.createElement(m,null,r.a.createElement(O,null),r.a.createElement(g,null),r.a.createElement(d,null))};l.a.render(r.a.createElement(j,null),document.getElementById("root"))},5:function(e,t,n){e.exports=n(10)}},[[5,1,2]]]);
//# sourceMappingURL=main.5e95b36c.chunk.js.map